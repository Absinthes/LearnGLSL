# 暗角效果

> 主题思路是通过计算像素距离中心点的距离，通过`dot`计算出暗角效果的强度。再通过 `mix` 函数实现暗角效果。

- `texture2D(uTexture, vUv)`：该函数从给定的纹理 `uTexture` 中采样颜色值，其中 `vUv` 是当前像素在纹理坐标系中的位置。
- `(vUv - vec2(0.5f)) * vec2(amount)`：计算像素的 UV 坐标偏离中心的程度，并根据 `amount` 参数进行缩放。当 UV 坐标接近中心（即 0.5, 0.5）时，偏离值较小；远离中心时，偏离值增大。这一步为暗角效果提供了依据，通常情况下，图像中心区域的偏离值较小，暗角效果较弱，边缘区域的偏离值较大，暗角效果较强。
- `dot(uv, uv)`：计算调整后的 UV 坐标的点积，得到一个标量值，这个值随着 UV 坐标偏离中心的程度增大而增大。
- `mix(texel.rgb, vec3(1.0f - darkness), dot(uv, uv))`：使用 `mix` 函数混合原始像素颜色 `texel.rgb` 和全白（减去黑暗度 `darkness`）的颜色。由于 `dot(uv, uv)`的结果越大说明像素离中心越远，所以离中心越远的像素，其颜色将更多地与 `vec3(1.0f - darkness)`混合，产生变暗的效果，从而实现了暗角。
- `gl_FragColor = vec4(..., texel.a);`：最后将混合后的 RGB 颜色赋值给输出的颜色变量 `gl_FragColor`，同时保留了原始纹理采样的 Alpha 通道 `texel.a`。
